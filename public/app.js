(()=>{"use strict";class t{constructor(t){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),t.appendChild(this.canvas),this.fitToContainer=this.fitToContainer.bind(this),this.fitToContainer(this.canvas),addEventListener("resize",(()=>this.fitToContainer(this.canvas)))}fitToContainer(t){this.w=this.canvas.width=t.offsetWidth,this.h=this.canvas.height=t.offsetHeight}}class i{constructor(t,i){this.update=t,this.display=i,this.deltaTime=0,this.lastUpdate=0,this.maxInterval=40,this.animate=this.animate.bind(this),this.animate()}animate(t=0){requestAnimationFrame(this.animate),this.deltaTime=t-this.lastUpdate,this.deltaTime<this.maxInterval&&(this.update(this.deltaTime/1e3),this.display()),this.lastUpdate=t}}class e{constructor(e){this.layer=new t(e),this.rect={x:0,y:0,w:32,h:32,vx:500,vy:500},this.rect2={x:99,y:10,w:30,h:30,vx:600,vy:600},new i(this.update.bind(this),this.display.bind(this))}update(t){(this.rect.x<=0&&this.rect.vx<0||this.rect.x+this.rect.w>this.layer.w&&this.rect.vx>0)&&(this.rect.vx=-this.rect.vx),(this.rect.y<=0&&this.rect.vy<0||this.rect.y+this.rect.h>this.layer.h&&this.rect.vy>0)&&(this.rect.vy=-this.rect.vy),this.rect.x+=this.rect.vx*t,this.rect.y+=this.rect.vy*t,(this.rect2.x<=0&&this.rect2.vx<0||this.rect2.x+this.rect2.w>this.layer.w&&this.rect2.vx>0)&&(this.rect2.vx=-this.rect2.vx),(this.rect2.y<=0&&this.rect2.vy<0||this.rect2.y+this.rect2.h>this.layer.h&&this.rect2.vy>0)&&(this.rect2.vy=-this.rect2.vy),this.rect2.x+=this.rect2.vx*t,this.rect2.y+=this.rect2.vy*t}display(){this.layer.context.clearRect(0,0,this.layer.w,this.layer.h),this.layer.context.fillStyle="orange",this.layer.context.fillRect(this.rect.x,this.rect.y,this.rect.w,this.rect.h),this.layer.context.fillStyle="green",this.layer.context.fillRect(this.rect2.x,this.rect2.y,this.rect2.w,this.rect2.h)}}onload=function(){new e(document.querySelector("body"))}})();